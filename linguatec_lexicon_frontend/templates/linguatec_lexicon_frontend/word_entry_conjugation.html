{% extends "linguatec_lexicon_frontend/base_site.html" %}

{% block content %}
{{ block.super }}

<div class="rg-search-results ml-3">
  <div class="row">
    <div>Conjugación de <strong>{{ verb }}</strong></div>
  </div>
  <div class="row">
    <div class="col-10 rg-conjugator-options-header">Opciones</div>
  </div>
  <div class="row">
    <div class="col-2 rg-conjugator-options-header">{{ conjugator_form.grafia.label }}</div>
    <div class="col-2 rg-conjugator-options-header">{{ conjugator_form.rematanza.label }}</div>
    <div class="col-2 rg-conjugator-options-header">{{ conjugator_form.pasaus.label }}</div>
    <div class="col-2 rg-conjugator-options-header">{{ conjugator_form.prim_pers_plural.label }}</div>
    <div class="col-2 rg-conjugator-options-header">{{ conjugator_form.cherundio.label }}</div>
  </div>
  <div class="row">
    <div class="col-2 px-0">
      {% for value in conjugator_form.grafia %}
        <div class="rg-conjugator-options">
          <div class='d-none'>{{value}}</div>{{value.choice_label}}
          <i class="fas fa-caret-left float-right pr-3"></i>
        </div>
      {% endfor %}
    </div>
    <div class="col-2 px-0">
      {% for value in conjugator_form.rematanza %}
        <div class="rg-conjugator-options">
          <div class='d-none'>{{value}}</div>{{value.choice_label}}
          <i class="fas fa-caret-left float-right pr-3"></i>
        </div>
      {% endfor %}
    </div>
    <div class="col-2 px-0">
      {% for value in conjugator_form.pasaus %}
        <div class="rg-conjugator-options">
          <div class='d-none'>{{value}}</div>{{value.choice_label}}
          <i class="fas fa-caret-left float-right pr-3"></i>
        </div>
      {% endfor %}
    </div>
    <div class="col-2 px-0">
      {% for value in conjugator_form.prim_pers_plural %}
        <div class="rg-conjugator-options">
          <div class='d-none'>{{value}}</div>{{value.choice_label}}
          <i class="fas fa-caret-left float-right pr-3"></i>
        </div>
      {% endfor %}
    </div>
    <div class="col-2 px-0">
      {% for value in conjugator_form.cherundio %}
        <div class="rg-conjugator-options">
          <div class='d-none'>{{value}}</div>{{value.choice_label}}
          <i class="fas fa-caret-left float-right pr-3"></i>
        </div>
      {% endfor %}
    </div>
  </div>

  <div class="row mt-3">
    <div class="mr-2">{{ conjugator_form.estar_auxiliar }}</div> {{ conjugator_form.estar_auxiliar.label }}
    <div class="mr-2 ml-5">{{ conjugator_form.incoativa }}</div> {{ conjugator_form.incoativa.label }}
  </div>

  <div class="row">
    <div class="col-12 px-0" id="conjugation">
    </div>
    <div class="col-12 pl-1 mt-5 mb-3">Fuente: conjugador desarrollado por <strong>Chorche Pérez</strong></div>
  </div>
</div>
{% endblock %}

{% block extrascript %}
<script>

url = "https://softaragones.org/conchugador/?verbo={{verb}}&grafia=DGPL&sin_menu=true&sin_titol=true&sin_estilo=true";
$.get( url, function( data ) {
  conjugation_table = $.parseHTML(data)[8];
  $("#conjugation").html(conjugation_table);
  $("tfoot").remove();
  $("#conjugation").css("margin-top", "20px");
  $("table").css("width", "84%");
  $("table").css("border-spacing", 5);
  $("table").css("border-collapse", "separate");
  $("th").css("background-color","#c8c8c8");
  $("td, th").css("margin","5px");
  $("td, th").css("padding","5px");
  $("td").css("background-color", "#f0f0f0");
});

$(".fa-caret-left").css('visibility', 'hidden')
$('.rg-conjugator-options').click(function() {
  $(this).parent().find(".fa-caret-left").css('visibility', 'hidden')
  $(this).find(".fa-caret-left").css('visibility', 'visible')
  $(this).find("input").prop("checked", true);
  // TODO: call again softaragones
});


</script>
{% endblock %}
